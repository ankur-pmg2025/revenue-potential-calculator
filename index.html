<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Revenue Potential Calculator (V2)</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <div class="bg"></div>

    <header class="hero">
      <div class="wrap">
        <h1>Calculate Your <span>Revenue Potential</span></h1>
        <p>
          Estimate revenue you‚Äôre losing from missed calls and inquiries ‚Äî and what AI can recapture.
          Use the share link to save/compare scenarios.
        </p>

        <div class="hero-actions">
          <button id="btnCopyLink" class="btn primary">Copy Share Link</button>
          <button id="btnReset" class="btn">Reset to Defaults</button>
          <div id="copyStatus" class="status muted" aria-live="polite"></div>
        </div>
      </div>
    </header>

    <main class="wrap grid">
      <!-- LEFT COLUMN -->
      <section class="panel">
        <div class="panel-title">
          <h2>Your Current Daily Reality</h2>
          <span class="pill">Live</span>
        </div>

        <div class="cards">
          <div class="card">
            <div class="card-top">
              <div class="icon">‚òÄÔ∏è</div>
              <div class="card-metric">
                <input id="missedDay" type="number" min="0" step="1" value="12" />
                <div class="label">Missed during day <span class="muted">per weekday</span></div>
              </div>
            </div>
          </div>

          <div class="card">
            <div class="card-top">
              <div class="icon">üåô</div>
              <div class="card-metric">
                <input id="missedAfterHours" type="number" min="0" step="1" value="2" />
                <div class="label">Missed after hours <span class="muted">per weeknight</span></div>
              </div>
            </div>
          </div>

          <div class="card">
            <div class="card-top">
              <div class="icon">üìÖ</div>
              <div class="card-metric">
                <input id="missedWeekend" type="number" min="0" step="1" value="2" />
                <div class="label">Missed on weekends <span class="muted">per weekend (Sat+Sun)</span></div>
              </div>
            </div>
          </div>

          <div class="card">
            <div class="card-top">
              <div class="icon">üßæ</div>
              <div class="card-metric">
                <input id="dailyWebLeads" type="number" min="0" step="1" value="15" />
                <div class="label">Daily leads (total) <span class="muted">per weekday</span></div>
              </div>
            </div>
          </div>

          <div class="card wide">
            <div class="card-top">
              <div class="icon money">$</div>
              <div class="card-metric">
                <input id="avgPatientValue" type="number" min="0" step="1" value="499" />
                <div class="label">First-visit value <span class="muted">in dollars</span></div>
              </div>
            </div>
          </div>

          <div class="card wide">
            <div class="card-top">
              <div class="icon money">‚àû</div>
              <div class="card-metric">
                <input id="ltvPerPatient" type="number" min="0" step="1" value="2500" />
                <div class="label">Patient LTV <span class="muted">in dollars</span></div>
              </div>
            </div>
          </div>
        </div>

        <div class="summary-row">
          <div class="summary-item">
            <span class="muted">Monthly missed calls:</span>
            <strong id="monthlyMissedCalls">‚Äî</strong>
          </div>
          <div class="summary-item">
            <span class="muted">Monthly total leads:</span>
            <strong id="monthlyTotalLeads">‚Äî</strong>
          </div>
          <div class="summary-item">
            <span class="muted">Monthly lead split (counts):</span>
            <strong id="monthlyLeadSplit">‚Äî</strong>
          </div>
          <div class="summary-note muted">
            Assumptions are editable below (weekdays/weekends per month).
          </div>
        </div>

        <div class="block">
          <div class="block-head">
            <h3>Month assumptions</h3>
            <div class="muted">Adjust for your practice calendar</div>
          </div>
          <div class="two-col">
            <label class="field">
              <span class="muted">Weekdays per month</span>
              <div class="inline">
                <input id="weekdaysPerMonth" type="number" min="0" max="31" step="1" value="20" />
              </div>
            </label>
            <label class="field">
              <span class="muted">Weekends per month</span>
              <div class="inline">
                <input id="weekendsPerMonth" type="number" min="0" max="10" step="1" value="4" />
              </div>
            </label>
          </div>
        </div>
      </section>

      <section class="panel">
        <div class="panel-title">
          <h2>AI Assumptions</h2>
        </div>

        <div class="block">
          <div class="block-head">
            <h3>Booking rate from missed calls</h3>
            <div class="muted">Base rate reduced by selected call quality factors</div>
          </div>

          <div class="rate">
            <div class="rate-line">
              <div>
                <div class="muted">Effective booking rate:</div>
                <div class="rate-big"><span id="effectiveBookingRateLabel">‚Äî</span></div>
              </div>
              <div class="muted right">Base booking rate: <strong id="baseBookingRateLabel">‚Äî</strong></div>
            </div>
            <input id="baseBookingRate" type="range" min="0" max="100" value="70" />
          </div>

          <div class="checks">
            <label class="check">
              <input id="factorSpam" type="checkbox" />
              <span>We get spam calls</span>
              <span class="neg">-18%</span>
            </label>
            <label class="check">
              <input id="factorCallback" type="checkbox" />
              <span>Customers calling back</span>
              <span class="neg">-20%</span>
            </label>
            <label class="check">
              <input id="factorPrice" type="checkbox" />
              <span>Price shoppers</span>
              <span class="neg">-10%</span>
            </label>
          </div>
        </div>

        <div class="block">
          <div class="block-head">
            <h3>Revenue model</h3>
            <div class="muted">Choose whether to value patients by first visit or lifetime value</div>
          </div>

          <div class="seg">
            <label class="segopt">
              <input type="radio" name="revenueModel" value="first_visit" checked />
              <span>First Visit</span>
            </label>
            <label class="segopt">
              <input type="radio" name="revenueModel" value="ltv" />
              <span>LTV</span>
            </label>
          </div>
        </div>

        <div class="block">
          <div class="block-head">
            <h3>Lead sources + AI uplift</h3>
            <div class="muted">Split your weekday leads across sources, then apply uplift + conversion per source</div>
          </div>

          <div class="leadgrid">
            <div class="leadhead muted">
              <div>Source</div>
              <div class="right">Share (%)</div>
              <div class="right">AI uplift (%)</div>
              <div class="right">Conversion (%)</div>
            </div>

            <div class="leadrow">
              <div class="leadname">Website</div>
              <div class="right"><input id="shareWeb" type="number" min="0" max="100" step="1" value="60" /></div>
              <div class="right"><input id="upliftWeb" type="number" min="0" max="500" step="1" value="15" /></div>
              <div class="right"><input id="convWeb" type="number" min="0" max="100" step="1" value="25" /></div>
            </div>

            <div class="leadrow">
              <div class="leadname">Google Business</div>
              <div class="right"><input id="shareGmb" type="number" min="0" max="100" step="1" value="25" /></div>
              <div class="right"><input id="upliftGmb" type="number" min="0" max="500" step="1" value="12" /></div>
              <div class="right"><input id="convGmb" type="number" min="0" max="100" step="1" value="20" /></div>
            </div>

            <div class="leadrow">
              <div class="leadname">Ads</div>
              <div class="right"><input id="shareAds" type="number" min="0" max="100" step="1" value="15" /></div>
              <div class="right"><input id="upliftAds" type="number" min="0" max="500" step="1" value="18" /></div>
              <div class="right"><input id="convAds" type="number" min="0" max="100" step="1" value="18" /></div>
            </div>

            <div class="leadnote muted" id="leadSplitNote">‚Äî</div>
          </div>
        </div>

        <div class="block">
          <div class="block-head">
            <h3>Permalink options</h3>
            <div class="muted">A share link stores all inputs in the URL so scenarios are reproducible</div>
          </div>
          <label class="check tight">
            <input id="autoUpdateUrl" type="checkbox" checked />
            <span>Auto-update URL as I type</span>
            <span class="muted"></span>
          </label>
        </div>
      </section>

      <!-- RIGHT COLUMN: RESULTS -->
      <section class="panel span2">
        <div class="impact">
          <div class="impact-title muted">YOUR ANNUAL AI REVENUE IMPACT</div>
          <div class="impact-value" id="annualImpact">$‚Äî</div>
          <div class="impact-sub" id="monthlyImpact">$‚Äî / month</div>
        </div>

        <div class="grid2">
          <div class="panel inner">
            <div class="panel-title">
              <h2>Revenue Breakdown</h2>
            </div>

            <div class="breakdown">
              <div class="break">
                <div class="break-left">
                  <div class="bicon">üìû</div>
                  <div>
                    <div class="muted">Bookings from Missed Calls</div>
                    <div class="bbig" id="bookingsFromMissedCalls">‚Äî</div>
                  </div>
                </div>
                <div class="break-right">
                  <div class="muted">Monthly</div>
                  <div class="bmoney" id="missedCallRevenueMonthly">$‚Äî</div>
                </div>
              </div>

              <div class="break">
                <div class="break-left">
                  <div class="bicon">ü§ñ</div>
                  <div>
                    <div class="muted">New Patients from AI Uplift</div>
                    <div class="bbig" id="newPatientsFromAi">‚Äî</div>
                  </div>
                </div>
                <div class="break-right">
                  <div class="muted">Monthly</div>
                  <div class="bmoney" id="aiRevenueMonthly">$‚Äî</div>
                </div>
              </div>

              <div class="break">
                <div class="break-left">
                  <div class="bicon">üìä</div>
                  <div>
                    <div class="muted">AI Uplift by Source (Monthly)</div>
                    <div class="splitlines" id="aiBySourceLines">‚Äî</div>
                  </div>
                </div>
                <div class="break-right">
                  <div class="muted">Value model</div>
                  <div class="bmoney" id="valueModelLabel">‚Äî</div>
                </div>
              </div>
            </div>
          </div>

          <div class="panel inner">
            <div class="panel-title">
              <h2>How This is Calculated</h2>
            </div>

            <div class="how">
              <div class="howbox">
                <div class="howtitle">Missed Call Revenue</div>
                <pre class="howpre" id="howMissedCalls">‚Äî</pre>
              </div>

              <div class="howbox">
                <div class="howtitle">AI Lead Uplift Revenue</div>
                <pre class="howpre" id="howAiLeads">‚Äî</pre>
              </div>

              <div class="howbox accent">
                <div class="howtitle">Total Annual Impact</div>
                <pre class="howpre" id="howTotal">‚Äî</pre>
              </div>
            </div>
          </div>
        </div>

      </section>
    </main>

    <footer class="wrap footer muted">
      V2 features: shareable permalink, editable month assumptions, revenue model toggle (First Visit vs LTV), lead source split with uplift + conversion per source.
    </footer>

    <script src="./app.js"></script>
  </body>
</html>
